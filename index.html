<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>扭蛋遊戲</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <div id="gacha-machine">
            <div id="gacha-body">
                <!-- Many more capsules for a completely filled, 3D look -->
                <!-- Back layer -->
                <div class="deco-capsule" style="top: 5%; left: 5%; transform: scale(0.7); z-index: 1; background: #a29bfe;"></div>
                <div class="deco-capsule" style="top: 15%; left: 30%; transform: scale(0.75); z-index: 1; background: #74b9ff;"></div>
                <div class="deco-capsule" style="top: 10%; left: 60%; transform: scale(0.7); z-index: 1; background: #55efc4;"></div>
                <div class="deco-capsule" style="top: 25%; left: 80%; transform: scale(0.75); z-index: 1; background: #ffeaa7;"></div>
                <div class="deco-capsule" style="top: 30%; left: 15%; transform: scale(0.8); z-index: 2; background: #fab1a0;"></div>
                <div class="deco-capsule" style="top: 40%; left: 5%; transform: scale(0.85); z-index: 2; background: #6c5ce7;"></div>
                <!-- Middle layer -->
                <div class="deco-capsule" style="top: 20%; left: 45%; transform: scale(0.85); z-index: 2; background: #ff7675;"></div>
                <div class="deco-capsule" style="top: 35%; left: 50%; transform: scale(0.9); z-index: 3; background: #fd79a8;"></div>
                <div class="deco-capsule" style="top: 50%; left: 25%; transform: scale(0.9); z-index: 3; background: #a29bfe;"></div>
                <div class="deco-capsule" style="top: 45%; left: 70%; transform: scale(0.95); z-index: 3; background: #00cec9;"></div>
                <div class="deco-capsule" style="top: 60%; left: 5%; transform: scale(0.9); z-index: 4; background: #74b9ff;"></div>
                <div class="deco-capsule" style="top: 65%; left: 35%; transform: scale(0.95); z-index: 4; background: #55efc4;"></div>
                <!-- Front layer -->
                <div class="deco-capsule" style="top: 55%; left: 60%; transform: scale(1); z-index: 5; background: #ffeaa7;"></div>
                <div class="deco-capsule" style="top: 70%; left: 80%; transform: scale(1.05); z-index: 5; background: #fab1a0;"></div>
                <div class="deco-capsule" style="top: 75%; left: 15%; transform: scale(1); z-index: 5; background: #6c5ce7;"></div>
                <div class="deco-capsule" style="top: 85%; left: 45%; transform: scale(1.05); z-index: 6; background: #ff7675;"></div>
            </div>
            <div id="handle-container">
                <div id="handle">
                </div>
            </div>
            <div id="capsule-exit"></div>
            <div id="coin-slot-area">
                <div id="required-coins-display">0</div>
                <div id="coin-slot"></div>
            </div>
        </div>
        <div id="capsule-tray"></div>
        <div id="left-top-controls">
            <div id="gacha-counter">已玩次數: <span id="times-played">0</span></div>
            <button id="show-stats-btn">📊</button>
        </div>
        <div id="coin-area"></div>
        <div id="controls">
            <button id="get-coin-btn">跟爸爸拿錢</button>
            <button id="settings-btn">⚙️</button>
        </div>
        <div id="prize-display">
            <!-- Content will be generated by JS -->
            <button id="play-again-btn">再來一次</button>
        </div>
    </div>

    <!-- Stats Modal -->
    <div id="stats-modal" class="modal-backdrop hidden">
        <div class="modal-content stats-content">
            <h3>扭蛋統計數據</h3>
            <div id="stats-details">
                <p><strong>總共玩了:</strong> <span id="stats-times-played">0</span> 次</p>
                <p><strong>總共花費金額 :</strong> <span id="stats-coins-spent">0</span></p>
                <h4>各獎品獲得次數:</h4>
                <ul id="stats-prize-counts">
                    <!-- Prize counts will be populated by JS -->
                </ul>
            </div>
            <button id="reset-stats-btn" class="prize-action-btn add-btn">重置統計</button>
            <button class="close-btn">X</button>
        </div>
    </div>

    <!-- Password Modal -->
    <div id="password-modal" class="modal-backdrop hidden">
        <div class="modal-content">
            <h3>請輸入密碼</h3>
            <input type="password" id="password-input">
            <button id="password-submit">確認</button>
            <button class="close-btn">X</button>
        </div>
    </div>

    <!-- Settings Panel -->
    <div id="settings-panel" class="modal-backdrop hidden">
        <div class="modal-content settings-content">
            <h3>設定獎品 (1-10)</h3>
            <form id="settings-form">
                <!-- Rows will be generated by JS -->
            </form>
            <button id="save-settings-btn">儲存設定</button>
            <button id="close-settings-btn" class="close-btn">離開</button>
            <button class="close-btn">X</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>